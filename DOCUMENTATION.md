# Документация

Это не документация, а скорее изложение моих слов, если бы меня попросили рассказать как реализовано приложение, что я считал важным в реализации, какие вижу плюсы и минусы.

## Компоненты:

- Входной точкой является `<TreeViewer>`. В пропсах кроме `children` можно прокинуть `NodeRenderer` и `maxDepth`. Оба значения кладутся в контекст, так как доступным к ним нужен из любой глубины в `<List>` и `<Expandable>`
- `<List>` отвечает за рендеринг списка нод через `<NodeRenderer>` из контекста и прокидывание текущей глубины в каждую ноду
- `<DefaultNodeRenderer>` – дефолтный рендер ноды
- `<ListItem>` – обертка над `li`, чтобы сохранить семантичность списка и чтобы была полная возможность для кастомизации снаружи
- `<Expandable>`, компонент отвечающий за отображение открытой/закрытой ноды. Вся логика инкапсулирована в хук `useExpandable` и состояние открытости хранится в каждом отдельном `<Expandable>`

## Решения:

- Я решил оставить хранение состояния раскрытости на уровне каждого компонента, так как другого не требуется в текущем задании, но в будущем может быть легко добавлено через обновление логики `useExpandable`. Хранение состояние на общем уровне может быть удобно при необходимости сохранять состоянные вложенных нод при закрытии родительской ноды или при портебности снаружи открывать/закрывать ноды, но нужно реализовывать без потери перформанса, чтобы измнение состояния одной ноды не вызывало ререндер других нод
- Мне казалось важным сохранить семантику, поэтому оставил `<ul>` и `<li>`
- Я решил использовать css-modules, так как они были в комплекте с CRA и отлично справляются с задачей инкапсуляции стилей
- Добавлять библиотеку для виртуализации или реализовывать логику самостоятельно показалось не нужным, потому что перформанс на 50000 объектов не страдал
- В реальной жизни при необходимости решения подобной задачи с большим числом элементов и виртуализации я бы воспользовался [react-virtualized-tree](https://www.npmjs.com/package/react-virtualized-tree) или активно вдохновлялся, если бы не хватало ее функциональности

## Инструменты:

- Взял CRA, чтобы быстро развернуть проект
- Добавил prettier, чтобы руками не форматировать код
- Добавил classnames, чтобы легче было работать с классами
